{"name":"bcccdccddfdafbb","url":"index.html (ç­‰èµ„æº+2)","showName":"å¯è½¬å€ºçœ‹ç›˜","appid":"com.bcccdccddfdafbb.pakeplus","icon":"","iconPath":"C:\\Users\\Administrator.PC-20260209AGSK.002\\AppData\\Roaming\\com.pakeplus.pacbao\\aiwg9zpwa4.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"Android","platform":["1-1","2-2"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n    <title>å¯è½¬å€ºä¸“ä¸šçœ‹ç›˜</title>\n    <style>\n        * {\n            box-sizing: border-box;\n            margin: 0;\n            padding: 0;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n            background: #0a0e1a;\n            color: #e0e4f0;\n            padding: 12px;\n        }\n        \n        .header {\n            background: linear-gradient(135deg, #1a2642 0%, #1e3c72 100%);\n            padding: 20px 15px;\n            border-radius: 16px;\n            margin-bottom: 16px;\n            box-shadow: 0 4px 20px rgba(0, 40, 100, 0.5);\n            border: 1px solid #2d374d;\n        }\n        \n        .header h1 {\n            font-size: 24px;\n            margin-bottom: 4px;\n            color: #fff;\n            text-shadow: 0 0 10px #2a7de1;\n        }\n        \n        .header p {\n            color: #8a93b0;\n            font-size: 14px;\n        }\n        \n        .stats-bar {\n            display: flex;\n            justify-content: space-between;\n            background: #141a26;\n            padding: 12px;\n            border-radius: 12px;\n            margin-bottom: 16px;\n            border: 1px solid #2d374d;\n        }\n        \n        .stat-item {\n            text-align: center;\n            flex: 1;\n        }\n        \n        .stat-label {\n            font-size: 12px;\n            color: #8a93b0;\n            margin-bottom: 4px;\n        }\n        \n        .stat-value {\n            font-size: 16px;\n            font-weight: 600;\n            color: #2a7de1;\n        }\n        \n        .filter-section {\n            background: #141a26;\n            padding: 12px;\n            border-radius: 12px;\n            margin-bottom: 16px;\n            border: 1px solid #2d374d;\n        }\n        \n        .filter-row {\n            display: flex;\n            gap: 8px;\n        }\n        \n        select {\n            flex: 1;\n            background: #1e2538;\n            color: #e0e4f0;\n            border: 1px solid #2d374d;\n            padding: 10px;\n            border-radius: 8px;\n            font-size: 14px;\n            cursor: pointer;\n            outline: none;\n        }\n        \n        select:hover {\n            border-color: #2a7de1;\n        }\n        \n        select option {\n            background: #1e2538;\n            color: #e0e4f0;\n        }\n        \n        .bond-card {\n            background: #1e2538;\n            border: 1px solid #2d374d;\n            border-radius: 16px;\n            padding: 16px;\n            margin-bottom: 12px;\n            transition: all 0.2s;\n        }\n        \n        .bond-card:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 24px rgba(42, 125, 225, 0.2);\n            border-color: #2a7de1;\n        }\n        \n        .bond-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 12px;\n        }\n        \n        .bond-title {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n        \n        .bond-code {\n            font-weight: 600;\n            color: #2a7de1;\n            font-size: 16px;\n        }\n        \n        .bond-name {\n            color: #8a93b0;\n            font-size: 14px;\n        }\n        \n        .bond-price {\n            text-align: right;\n        }\n        \n        .current-price {\n            font-size: 20px;\n            font-weight: 700;\n            color: #e0e4f0;\n        }\n        \n        .price-change {\n            font-size: 14px;\n            margin-left: 8px;\n        }\n        \n        .price-change.up {\n            color: #00c48c;\n        }\n        \n        .price-change.down {\n            color: #ff6b6b;\n        }\n        \n        .bond-details {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 12px;\n            padding: 12px 0;\n            border-top: 1px solid #2d374d;\n            border-bottom: 1px solid #2d374d;\n            margin: 12px 0;\n        }\n        \n        .detail-item {\n            text-align: center;\n        }\n        \n        .detail-label {\n            font-size: 11px;\n            color: #8a93b0;\n            margin-bottom: 2px;\n        }\n        \n        .detail-value {\n            font-size: 15px;\n            font-weight: 600;\n        }\n        \n        .detail-value.premium {\n            color: #ffb547;\n        }\n        \n        .detail-value.double-low {\n            color: #2a7de1;\n        }\n        \n        .bond-footer {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            font-size: 13px;\n            color: #8a93b0;\n        }\n        \n        .stock-info {\n            display: flex;\n            gap: 8px;\n            align-items: center;\n        }\n        \n        .stock-change.up {\n            color: #00c48c;\n        }\n        \n        .stock-change.down {\n            color: #ff6b6b;\n        }\n        \n        .warning-tag {\n            background: rgba(255, 107, 107, 0.2);\n            color: #ff6b6b;\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 11px;\n            border: 1px solid #ff6b6b;\n        }\n        \n        .loading {\n            text-align: center;\n            padding: 40px;\n            color: #8a93b0;\n        }\n        \n        .footer {\n            text-align: center;\n            padding: 20px;\n            color: #4a5568;\n            font-size: 12px;\n        }\n        \n        .update-time {\n            color: #2a7de1;\n            font-size: 12px;\n            text-align: right;\n            margin-top: 8px;\n        }\n        \n        .error-message {\n            background: rgba(255, 107, 107, 0.1);\n            border: 1px solid #ff6b6b;\n            color: #ff6b6b;\n            padding: 12px;\n            border-radius: 8px;\n            text-align: center;\n            margin: 20px 0;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <h1>ğŸ“ˆ å¯è½¬å€ºä¸“ä¸šçœ‹ç›˜</h1>\n        <p>å®æ—¶è¡Œæƒ… Â· æ­£è‚¡è”åŠ¨ Â· å¼ºèµé¢„è­¦</p>\n    </div>\n    \n    <div class=\"stats-bar\">\n        <div class=\"stat-item\">\n            <div class=\"stat-label\">è½¬å€ºæ•°é‡</div>\n            <div class=\"stat-value\" id=\"bond-count\">0</div>\n        </div>\n        <div class=\"stat-item\">\n            <div class=\"stat-label\">å¹³å‡æº¢ä»·</div>\n            <div class=\"stat-value\" id=\"avg-premium\">0%</div>\n        </div>\n        <div class=\"stat-item\">\n            <div class=\"stat-label\">å¹³å‡åŒä½</div>\n            <div class=\"stat-value\" id=\"avg-double-low\">0</div>\n        </div>\n    </div>\n    \n    <div class=\"filter-section\">\n        <div class=\"filter-row\">\n            <select id=\"sortSelect\">\n                <option value=\"change\">ğŸ“Š æŒ‰æ¶¨è·Œå¹…</option>\n                <option value=\"price\">ğŸ’° æŒ‰ä»·æ ¼</option>\n                <option value=\"premium\" selected>ğŸ“ˆ æŒ‰æº¢ä»·ç‡</option>\n                <option value=\"double_low\">âš–ï¸ æŒ‰åŒä½å€¼</option>\n            </select>\n            <select id=\"filterSelect\">\n                <option value=\"all\">ğŸ“‹ å…¨éƒ¨è½¬å€º</option>\n                <option value=\"premium_low\">ğŸ” ä½æº¢ä»· (&lt;20%)</option>\n                <option value=\"double_low\">ğŸ¯ åŒä½ &lt;150</option>\n                <option value=\"price_low\">ğŸ’ ä½ä»· (&lt;120)</option>\n            </select>\n        </div>\n    </div>\n    \n    <div id=\"bond-list\">\n        <div class=\"loading\">åŠ è½½æ•°æ®ä¸­...</div>\n    </div>\n    \n    <div class=\"footer\">\n        <div>æ•°æ®æ›´æ–°äº: <span id=\"update-time\">--</span></div>\n        <div style=\"margin-top: 5px;\">æ•°æ®æ¥æº: ä¸œæ–¹è´¢å¯Œ Â· å®æ—¶æ•°æ®</div>\n    </div>\n\n    <script>\n        let bondsData = [];\n        let filteredData = [];\n\n        // ä»åç«¯è·å–æ•°æ®\n        async function fetchBonds() {\n            try {\n                const response = await fetch('http://localhost:5000/api/bonds');\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                const data = await response.json();\n                console.log('è·å–åˆ°æ•°æ®:', data);\n                \n                // å¤„ç†æ•°æ®\n                bondsData = data.map(bond => ({\n                    code: bond.code || '--',\n                    name: bond.name || '--',\n                    price: bond.price || 0,\n                    change: bond.change || 0,\n                    premium: bond.premium || 0,\n                    double_low: bond.double_low || 0,\n                    convert_value: bond.convert_value || 0,\n                    stock_name: bond.stock_name || '--',\n                    stock_change: bond.stock_change || 0,\n                    stock_price: bond.stock_price || 0\n                }));\n                \n                // è¿‡æ»¤æ‰æ— æ•ˆæ•°æ®ï¼ˆä»·æ ¼=0çš„é€šå¸¸æ˜¯æœªä¸Šå¸‚ï¼‰\n                bondsData = bondsData.filter(bond => bond.price > 0);\n                \n                if (bondsData.length === 0) {\n                    document.getElementById('bond-list').innerHTML = '<div class=\"loading\">æš‚æ— æ•°æ®</div>';\n                } else {\n                    applyFilterAndSort();\n                    updateStats();\n                }\n                \n                return bondsData;\n            } catch (error) {\n                console.error('è·å–æ•°æ®å¤±è´¥:', error);\n                document.getElementById('bond-list').innerHTML = '<div class=\"error-message\">âŒ è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥PythonæœåŠ¡å™¨æ˜¯å¦è¿è¡Œ</div>';\n                return [];\n            }\n        }\n\n        // åº”ç”¨ç­›é€‰å’Œæ’åº\n        function applyFilterAndSort() {\n            const sortBy = document.getElementById('sortSelect').value;\n            const filterBy = document.getElementById('filterSelect').value;\n            \n            // ç­›é€‰\n            filteredData = [...bondsData];\n            \n            if (filterBy === 'premium_low') {\n                filteredData = filteredData.filter(b => b.premium > 0 && b.premium < 20);\n            } else if (filterBy === 'double_low') {\n                filteredData = filteredData.filter(b => b.double_low > 0 && b.double_low < 150);\n            } else if (filterBy === 'price_low') {\n                filteredData = filteredData.filter(b => b.price < 120);\n            }\n            \n            // æ’åº\n            filteredData.sort((a, b) => {\n                if (sortBy === 'price') return (b.price || 0) - (a.price || 0);\n                if (sortBy === 'change') return (b.change || 0) - (a.change || 0);\n                if (sortBy === 'premium') return (a.premium || 0) - (b.premium || 0);\n                if (sortBy === 'double_low') return (a.double_low || 0) - (b.double_low || 0);\n                return 0;\n            });\n            \n            renderBonds();\n        }\n\n        // æ¸²æŸ“å€ºåˆ¸åˆ—è¡¨\n        function renderBonds() {\n            const container = document.getElementById('bond-list');\n            \n            if (!filteredData || filteredData.length === 0) {\n                container.innerHTML = '<div class=\"loading\">æš‚æ— ç¬¦åˆæ¡ä»¶çš„æ•°æ®</div>';\n                return;\n            }\n            \n            let html = '';\n            filteredData.forEach(bond => {\n                const changeClass = bond.change >= 0 ? 'up' : 'down';\n                const changeSymbol = bond.change >= 0 ? '+' : '';\n                const stockChangeClass = bond.stock_change >= 0 ? 'up' : 'down';\n                \n                // å¼ºèµé¢„è­¦ï¼ˆä»·æ ¼>130ä¸”æº¢ä»·ç‡<20%ä¸”æº¢ä»·ç‡>0ï¼‰\n                const hasWarning = bond.price > 130 && bond.premium < 20 && bond.premium > 0;\n                \n                html += `\n                    <div class=\"bond-card\">\n                        <div class=\"bond-header\">\n                            <div class=\"bond-title\">\n                                <span class=\"bond-code\">${bond.code}</span>\n                                <span class=\"bond-name\">${bond.name}</span>\n                            </div>\n                            <div class=\"bond-price\">\n                                <span class=\"current-price\">Â¥${bond.price.toFixed(2)}</span>\n                                <span class=\"price-change ${changeClass}\">\n                                    ${changeSymbol}${bond.change.toFixed(2)}%\n                                </span>\n                            </div>\n                        </div>\n                        \n                        <div class=\"bond-details\">\n                            <div class=\"detail-item\">\n                                <div class=\"detail-label\">æº¢ä»·ç‡</div>\n                                <div class=\"detail-value premium\">${bond.premium > 0 ? bond.premium.toFixed(2) + '%' : '--'}</div>\n                            </div>\n                            <div class=\"detail-item\">\n                                <div class=\"detail-label\">åŒä½å€¼</div>\n                                <div class=\"detail-value double-low\">${bond.double_low > 0 ? bond.double_low.toFixed(2) : '--'}</div>\n                            </div>\n                            <div class=\"detail-item\">\n                                <div class=\"detail-label\">è½¬è‚¡ä»·å€¼</div>\n                                <div class=\"detail-value\">Â¥${bond.convert_value > 0 ? bond.convert_value.toFixed(2) : '--'}</div>\n                            </div>\n                        </div>\n                        \n                        <div class=\"bond-footer\">\n                            <div class=\"stock-info\">\n                                <span>${bond.stock_name}</span>\n                                <span class=\"stock-change ${stockChangeClass}\">\n                                    ${bond.stock_change ? (bond.stock_change > 0 ? '+' : '') + bond.stock_change.toFixed(2) + '%' : '--'}\n                                </span>\n                            </div>\n                            ${hasWarning ? '<span class=\"warning-tag\">âš ï¸ å¼ºèµé¢„è­¦</span>' : ''}\n                        </div>\n                    </div>\n                `;\n            });\n            \n            container.innerHTML = html;\n            document.getElementById('update-time').innerText = new Date().toLocaleTimeString();\n        }\n\n        // æ›´æ–°ç»Ÿè®¡æ•°æ®\n        function updateStats() {\n            const validBonds = bondsData.filter(b => b.price > 0);\n            document.getElementById('bond-count').innerText = validBonds.length;\n            \n            const validPremium = validBonds.filter(b => b.premium > 0);\n            const avgPremium = validPremium.reduce((sum, b) => sum + b.premium, 0) / (validPremium.length || 1);\n            document.getElementById('avg-premium').innerText = avgPremium.toFixed(2) + '%';\n            \n            const validDoubleLow = validBonds.filter(b => b.double_low > 0);\n            const avgDoubleLow = validDoubleLow.reduce((sum, b) => sum + b.double_low, 0) / (validDoubleLow.length || 1);\n            document.getElementById('avg-double-low').innerText = avgDoubleLow.toFixed(2);\n        }\n\n        // ç›‘å¬ç­›é€‰å˜åŒ–\n        document.getElementById('sortSelect').addEventListener('change', applyFilterAndSort);\n        document.getElementById('filterSelect').addEventListener('change', applyFilterAndSort);\n\n        // é¡µé¢åŠ è½½åå¼€å§‹è·å–æ•°æ®\n        document.addEventListener('DOMContentLoaded', () => {\n            fetchBonds();\n            // æ¯30ç§’åˆ·æ–°ä¸€æ¬¡\n            setInterval(fetchBonds, 30000);\n        });\n    </script>\n</body>\n</html>","isHtml":true,"htmlPath":"C:\\Users\\Administrator.PC-20260209AGSK.002\\Desktop\\convertible-app","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.8","iosRepo":"PakePlus-iOS-v2.1.8","androidRepo":"PakePlus-Android-v2.1.8","more":{"windows":{"label":"","title":"å¯è½¬å€ºçœ‹ç›˜","url":"index.html (ç­‰èµ„æº+2)","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"bcccdccddfdafbb","showName":"å¯è½¬å€ºçœ‹ç›˜","version":"0.0.1","webUrl":"index.html (ç­‰èµ„æº+2)","id":"com.bcccdccddfdafbb.pakeplus.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":true,"debug":false,"safeArea":"all"},"android":{"name":"bcccdccddfdafbb","showName":"å¯è½¬å€ºçœ‹ç›˜","version":"0.0.1","webUrl":"index.html (ç­‰èµ„æº+2)","id":"com.bcccdccddfdafbb.pakeplus.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":true,"debug":false,"safeArea":"all"},"desktop":{"name":"bcccdccddfdafbb","showName":"å¯è½¬å€ºçœ‹ç›˜","version":"0.0.1","id":"com.bcccdccddfdafbb.pakeplus.desktop","desc":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","webUrl":"index.html (ç­‰èµ„æº+2)","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","isHtml":true,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"cloud","debug":false}}